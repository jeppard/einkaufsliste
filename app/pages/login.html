<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8" />
    <link rel="stylesheet" href="/app/styles/default.css">
    <link rel="stylesheet" href="/app/styles/login.css">
    <script src="server.js"></script>
    <title>Sign in</title>
</head>

<body>
    <form action="index.html" method="post">
        <div class="main">
            <p class="sign" align="center">Sign in</p>
            <form class="form1">

                <div class="textcenter center">
                    <input class="un" name="input" type="text" align="center" placeholder="Username">
                </div>

                <div class="textcenter center">
                    <input class="pass" name="input" type="password" align="center" placeholder="Password">
                </div>

                <span id="upWarn" style="visibility: hidden">username or password is empty or false</span>

                <div class="textcenter center">
                    <button class="submit" id="log-in">Sign in</button>
                </div>

                <div class="textcenter center">
                    <p class="forgot"><a href="#">Forgot Password?</a></p>
                </div>

                <div class="textcenter center">
                    <a class="register button" href="register.html">new account</a>
                </div>

        </div>
    </form>
</body>

</html>
<script type="text/javascript">
    window.onload = () => {
        document.getElementById('upWarn').style.visibility = "hidden";
        this.sessionStorage.setItem("username", "example_user");
        this.sessionStorage.setItem("password", "example_password");
    }

    function setCookie(cname, cvalue) {
        document.cookie = cname + "=" + cvalue + ";path=/";
    }

    function sendRequ() {
        var serverIp = "localhost";
        resObjekt.open('post', serverIp, true);
        resObjekt.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        resObjekt.onreadystatechange = handleResponse;
        resObjekt.send('name=' + escape(document.formular.name.value));
    }

    function handler() {

    }

    var input = document.getElementsByTagName('input');
    var login = document.getElementById('log-in');
    var register = document.getElementById('regist');
    var form = document.querySelector('form');
    form.onsubmit = () => { return false }

    login.onclick = () => {
        if ((input[0].value != "") && (input[1].value != "")) {
            //true = serverabfrage erfolgreich
            if (true)//(input[0].value == sessionStorage.getItem("username")) && (input[1].value == sessionStorage.getItem("password")))
            {
                var rCode = "false";
                setCookie("test", "n√∂");
            }
            else {
                if ((input[0].value != sessionStorage.getItem("username"))) {
                    document.getElementById('upWarn').style.visibility = "visible";
                }
                if ((input[1].value != sessionStorage.getItem("passwort"))) {
                    document.getElementById('upWarn').style.visibility = "visible";
                }
            }

        }
        else {
            if (input[0].value == "" || input[1].value == "") {
                document.getElementById('upWarn').style.visibility = "visible";
            }
        }
    }

</script>